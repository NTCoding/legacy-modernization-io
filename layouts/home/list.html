{{- define "main" -}}
<!-- Hero Section Start -->
<section class="hero-section" style="background: var(--c-bg-alt, #f7f7f9); color: var(--c-text, #222); padding: 7rem 0 6rem 0; text-align: center; border-bottom: 1px solid #e0e0e0; box-shadow: 0 2px 8px 0 rgba(0,0,0,0.03);">
  <div class="hero-content" style="max-width: 900px; margin: 0 auto;">
    <h1 style="font-size: 3rem; font-weight: 800; margin-bottom: 1.3rem; letter-spacing: -1px; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif;">
      Modernize with Confidence – convert your legacy liability into a competitive advantage
    </h1>
    <p style="font-size: 1.7rem; margin-bottom: 2.2rem; color: var(--c-text-light, #555); font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif; font-weight: 500;">Legacy-modernization.io is a collection of resources to help you plan and execute your modernization journey.</p>
    <div style="margin-top: 2.5rem; display: flex; justify-content: center; gap: 1.5rem; flex-wrap: wrap;">
      <a href="/patterns/" class="hero-btn" style="display: inline-block; background: #00bfae; color: #fff; padding: 1.2rem 3rem; border-radius: 2rem; font-size: 1.5rem; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif; font-weight: 600; text-decoration: none; transition: background 0.2s; box-shadow: 0 2px 8px 0 rgba(0,191,174,0.08); letter-spacing: -0.5px;">Explore Patterns</a>
      <a href="/learn/" class="hero-btn" style="display: inline-block; background: #0077b6; color: #fff; padding: 1.2rem 3rem; border-radius: 2rem; font-size: 1.5rem; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif; font-weight: 600; text-decoration: none; transition: background 0.2s; box-shadow: 0 2px 8px 0 rgba(0,119,182,0.08); letter-spacing: -0.5px;">Learning Resources</a>
    </div>
    <div style="margin-top: 2.5rem; font-size: 1.25rem; color: var(--c-text-light, #555); font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif; font-weight: 500;">
      Follow us for the latest updates and announcements
    </div>
    <div style="margin-top: 2.5rem; display: flex; justify-content: center; gap: 1.5rem; flex-wrap: wrap; font-size: 2.1rem;">
      <a href="https://www.linkedin.com/company/legacy-modernization-io/" target="_blank" rel="noopener" style="display: flex; align-items: center; text-decoration: none;" aria-label="LinkedIn">
        <img src="/home/li-logo.png" alt="LinkedIn" style="height: 2.6rem; display: block;" />
      </a>
      <a href="https://bsky.app/profile/legacy-modernization.io" target="_blank" rel="noopener" style="display: flex; align-items: center; text-decoration: none;" aria-label="BlueSky">
        <img src="/home/blusky.png" alt="BlueSky" style="height: 2.6rem; display: block;" />
      </a>
    </div>
  </div>
</section>
<!-- Hero Section End -->

<!-- Featured Patterns Section Start -->
<section class="home-section home-section--patterns" style="background: var(--c-bg, #fff); padding: 4rem 0 2rem 0; border-bottom: 1px solid #ececec;">
  <div style="max-width: 1100px; margin: 0 auto;">
    <h2 style="font-size: 2.2rem; font-weight: 700; margin-bottom: 2.2rem; text-align: center; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif;">Featured Patterns</h2>
    <div style="display: flex; flex-wrap: wrap; gap: 2rem; justify-content: center;">
      {{ $featured := slice "/patterns/migration/strangler-fig/" "/patterns/migration/bubble/" "/patterns/data-synchronisation/bi-directional-sync/" }}
      {{ $descriptions := slice 
        "The Strangler Fig pattern is a metaphor invented by Martin Fowler to describe a gradual migration away from a legacy system to a new system (aka the strangler fig application)."
        "The Bubble pattern is about creating a new domain model to encapsulate and gradually replace a specific subdomain/subsystem. Eventually, the bubble should pop."
        "Bi-directional Sync enables two systems to stay in sync by propagating changes in both directions, allowing for parallel operation and gradual migration."
      }}
      {{ range $i, $f := $featured }}
        {{ with site.GetPage $f }}
          <div style="flex: 1 1 300px; max-width: 340px; min-width: 260px; background: var(--c-bg-alt, #f7f7f9); border-radius: 1.2rem; box-shadow: none; padding: 2.5rem 2.5rem 2.5rem 2.5rem; display: flex; flex-direction: column; align-items: flex-start;">
            <a href="{{ .RelPermalink }}" aria-label="Read more…">
              {{ if eq $i 0 }}
                <img src="/patterns/migration/strangler-fig/strangler-feature.png" alt="Strangler Fig Pattern" style="width:280px; height:250px; object-fit:cover; border-radius:0.7rem; background:#e0e0e0; display:block; margin:0 auto 1.5rem auto;" />
              {{ else if eq $i 1 }}
                <img src="/patterns/migration/bubble/bubble-feature.png" alt="Bubble image" style="width:280px; height:250px; object-fit:cover; border-radius:0.7rem; background:#e0e0e0; display:block; margin:0 auto 1.5rem auto;" />
              {{ else }}
                <img src="/content/patterns/data-synchronisation/bi-directional-sync/bi-directional-feature.png" alt="Bi-directional Sync image" style="width:280px; height:250px; object-fit:cover; border-radius:0.7rem; background:#e0e0e0; display:block; margin:0 auto 1.5rem auto;" />
              {{ end }}
            </a>
            <div class="card__content" style="width: 100%; padding: 5px; background-color: var(--c-bg-2); box-shadow: none; display: flex; flex-direction: column; justify-content: space-between;">
              <div style="font-size: 1.1rem; color: #0077b6; font-weight: 700; margin-bottom: 0.7rem; text-transform: uppercase; letter-spacing: 0.04em; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif;">
                {{ with .Params.categories }}{{ index . 0 }}{{ end }}
              </div>
              <h3 style="font-size: 2.4rem; font-weight: 800; margin: 1rem 0 0.5rem 0; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif;">
                <a href="{{ .RelPermalink }}" style="color: inherit; text-decoration: none;">{{ .Title }}</a>
              </h3>
              <div style="font-size: 1.35rem; color: var(--c-text-light, #444); margin-bottom: 1.7rem; padding: 0 0.2em; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif; font-style: italic; line-height: 1.7; letter-spacing: 0.01em; text-shadow: 0 1px 2px #f0f0f0;">
                {{ index $descriptions $i }}
              </div>
              <a href="{{ .RelPermalink }}" style="font-size: 1.5rem; color: #00bfae; font-weight: 600; text-decoration: underline;">Read more →</a>
            </div>
          </div>
        {{ end }}
      {{ end }}
    </div>
    <div style="text-align: center; margin-top: 2.5rem;">
      <a href="/patterns/" style="font-size: 1.65rem; color: #00bfae; font-weight: 600; text-decoration: underline;">View all patterns →</a>
    </div>
  </div>
</section>
<!-- Featured Patterns Section End -->

<!-- Featured Talks Section Start -->
<section class="home-section home-section--talks" style="background: var(--c-bg, #fff); padding: 4rem 0 2rem 0; border-bottom: 1px solid #ececec;">
  <div style="max-width: 1100px; margin: 0 auto;">
    <h2 style="font-size: 2.2rem; font-weight: 700; margin-bottom: 2.2rem; text-align: center; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif;">Featured Talks</h2>
    <div style="display: flex; flex-wrap: wrap; gap: 2rem; justify-content: center;">
      <a href="https://www.youtube.com/watch?v=Ah-X2wvxzes" target="_blank" style="flex: 1 1 300px; max-width: 340px; min-width: 260px; text-align: center; text-decoration: none;">
        <img src="https://img.youtube.com/vi/Ah-X2wvxzes/hqdefault.jpg" alt="Legacy Modernization: The Big Picture" style="width:100%; max-width:280px; height:auto; border-radius:0.7rem; background:#e0e0e0; display:block; margin:0 auto;" />
      </a>
      <a href="https://www.youtube.com/watch?v=fc6_NtD9soI" target="_blank" style="flex: 1 1 300px; max-width: 340px; min-width: 260px; text-align: center; text-decoration: none;">
        <img src="https://img.youtube.com/vi/fc6_NtD9soI/hqdefault.jpg" alt="Legacy Modernization: EventStorming for Modernization" style="width:100%; max-width:280px; height:auto; border-radius:0.7rem; background:#e0e0e0; display:block; margin:0 auto;" />
      </a>
      <a href="https://www.youtube.com/watch?v=Qdits--aoT4" target="_blank" style="flex: 1 1 300px; max-width: 340px; min-width: 260px; text-align: center; text-decoration: none;">
        <img src="https://img.youtube.com/vi/Qdits--aoT4/hqdefault.jpg" alt="Legacy Modernization: Modernization Patterns" style="width:100%; max-width:280px; height:auto; border-radius:0.7rem; background:#e0e0e0; display:block; margin:0 auto;" />
      </a>
    </div>
  </div>
</section>
<!-- Featured Talks Section End -->

<!-- Contribute Section Start -->
<section class="home-section home-section--contribute" style="background: var(--c-bg-alt, #f7f7f9); padding: 4rem 0 4rem 0;">
  <div style="max-width: 900px; margin: 0 auto; text-align: center;">
    <h2 style="font-size: 2.8rem; font-weight: 700; margin-bottom: 1.2rem; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif;">Contribute Your Patterns & Case Studies</h2>
    <p style="font-size: 1.7rem; color: var(--c-text-light, #555); margin-bottom: 2.2rem;">Have a modernization pattern or case study to share? Help the community by contributing your experience and insights.</p>
    <a href="https://github.com/ntcoding/legacy-modernization-io#contributing-guidelines" style="display: inline-block; background: #00bfae; color: #fff; padding: 1.2rem 3rem; border-radius: 2rem; font-size: 1.5rem; font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif; font-weight: 600; text-decoration: none; transition: background 0.2s; box-shadow: 0 2px 8px 0 rgba(0,191,174,0.08); letter-spacing: -0.5px;" target="_blank">Contribute Now</a>
  </div>
</section>
<!-- Contribute Section End -->

<footer style="background: var(--c-bg, #fff); border-top: 1px solid #ececec; padding: 2.5rem 0; text-align: center; font-size: 1.1rem; color: var(--c-text-light, #555); font-family: 'IBM Plex Sans', 'Segoe UI', Arial, sans-serif;">
  <div style="margin-bottom: 1.2rem;">
    &copy; {{ now.Year }} Legacy Modernization Patterns. All rights reserved.
  </div>
  <div style="display: flex; justify-content: center; gap: 1.2rem; align-items: center; margin-top: 0.5rem;">
    <a href="https://www.linkedin.com/company/legacy-modernization-io/" target="_blank" rel="noopener" style="display: flex; align-items: center; text-decoration: none;" aria-label="LinkedIn">
      <img src="/home/li-logo.png" alt="LinkedIn" style="height: 2.1rem; display: block;" />
    </a>
    <a href="https://bsky.app/profile/legacy-modernization.io" target="_blank" rel="noopener" style="display: flex; align-items: center; text-decoration: none;" aria-label="BlueSky">
      <img src="/home/blusky.png" alt="BlueSky" style="height: 2.1rem; display: block;" />
    </a>
  </div>
</footer>
{{- end -}}
